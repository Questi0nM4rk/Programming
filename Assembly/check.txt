count_n PROC
    push bp
    mov bp, sp
    push dx
    push si

    ; Check the number of digits
    cmp dx, 10
    jge two_digits

    ; One digit
    add dl, '0'
    mov [si], dl
    jmp end_check

two_digits:
    cmp dx, 100
    jge three_digits

    ; Two digits
    mov ax, dx
    mov cx, 10
    div cl
    add al, '0'
    mov [si], al
    inc si
    add ah, '0'
    mov [si], ah
    jmp end_check

three_digits:
    ; Three digits
    mov ax, dx
    mov cx, 100
    div cl
    add al, '0'
    mov [si], al
    inc si
    mov ax, dx
    mov cx, 10
    div cl
    add al, '0'
    mov [si], al
    inc si
    add ah, '0'
    mov [si], ah

end_check:
    pop si
    pop dx
    pop bp
    ret 4
count_n ENDP